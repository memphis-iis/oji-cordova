<template name="module">
    <br>
    <div class="px-4 py-5 my-5 text-center">
       {{#if this.pageId}}
       <h3>
       {{#if page.header}}
            <p class="lead mb-4">{{page.header}}</p>
        {{/if}}
        {{#if page.subheader}}
            <p class="lead mb-4">{{page.subheader}}</p>
        {{/if}}
        </h3>
        {{#if completed}}
            <p class="lead mb-4">{{module.title}}</p>
            <p class="lead mb-4">You have completed this module! A certificate will be awarded to you after your supervisor reviews the results.</p>
            {{#if isNewUserAssignment}}
            <button class="btn btn-primary" id="continueJourney">Continue your journey</button>    
            {{else}}
                <button class="btn btn-primary" id="goBack">Return to My Profile</button>    
            {{/if}}
        {{else}}
        <h5>{{#if displayLastPageBth}}<a id="goBackPage"><span class="glyphicon glyphicon-chevron-left"></span></a>{{/if}}Page {{pageid}} of {{totalpages}}{{#if displayNextPageBtn}} <a id="goForward"><span class="glyphicon glyphicon-chevron-right"></span></a>{{/if}}</h5>
        <br>
        {{#if page.typeText}}
        {{#if page.imageAbove}}
            <img src="{{page.image}}" class="mx-auto img-fluid rounded" style="{{page.imgStyle}}">
            <br>
        {{/if}}
        <p class="lead mb-4">{{{page.text}}}</p>
        <br>
        <br>
        {{#if page.imageBelow}}
            <img src="{{page.image}}" class="mx-auto img-fluid rounded" style="{{page.imgStyle}}">
            <br>
            <br>
        {{/if}}
        <button id="contine" class="btn btn-primary continue btn-wide">Save and Continue</button>
        {{/if}}
        {{#if this.questionId}}
            {{#if question.promptImg}}
            <img src="{{question.promptImg}}" class="mx-auto img-fluid rounded" style="{{page.imgStyle}}">
            {{/if}}
            {{#if question.typeBlank}}
                <p class="lead mb-4">{{{question.prompt}}}</p><br>
                <form>
                    <input type="text" class="textInput">
                </form>
                <br>
                <button id="contine" class="btn btn-primary continue btn-wide">Save and Continue</button>
            {{/if}}
            {{#if question.typeLongText}}
                <p class="lead mb-4">{{{question.prompt}}}</p><br>
                <form>
                    <textarea style="height:100px; width:100%;" class="textareaInput"></textarea>
                </form>
                <br>
                <button id="contine" class="btn btn-primary continue btn-wide">Save and Continue</button>
            {{/if}}
            {{#if question.typeMultiChoice}}
            <p class="lead mb-4">{{{question.prompt}}}</p><br>
            <form>
                {{#each question.answers}}
                    {{#if this.image}}
                    <button  class="btn btn-secondary text-nowrap btn-lg btn-block multichoice continue btn-wide" data-group="{{this.group}}" style="white-space: normal;" id="{{@index}}" value="{{this.value}}" name="">
                        <img class="img-responsive center-block" src="{{this.image}}" alt="Your Alt Text">
                    </button>
                    {{else}}
                     <button  class="btn btn-secondary text-nowrap btn-lg btn-block multichoice continue btn-wide" data-group="{{this.group}}" style="white-space: normal;" id="{{@index}}" value="{{this.value}}" name="">{{this.answer}}</button>
                     {{/if}}
                {{/each}}
            </form>
            <br>
            {{/if}}
            {{#if question.typeCombo}}
            <p class="lead mb-4">{{{question.prompt}}}</p>
                <form>
                    <br>
                {{#each question.fields}}
                    {{#if this.typeDisplayText}}
               <p class="lead mb-4">{{this.text}}</p>
                    {{/if}}
                    {{#if this.typeBlank}}
               <p class="lead mb-4">{{this.text}}</p>
                            <input class="combo" type="text">
                    {{/if}}
                    {{#if this.typeLongText}}
           <p class="lead mb-4">{{this.text}}</p><br>
                    <form>
                        <textarea style="height:50px; font-size: 20px; width:100%;" class="combo"></textarea>
                    </form>
                    <br>
                   {{/if}}
                    {{#if this.typeMultiChoice}}
           <p class="lead mb-4">{{this.text}}</p>
                        {{#each this.answers}}
                        {{#if this.image}}
                        <button  class="btn btn-secondary  text-nowrap btn-lg btn-block multichoice combo" data-group="{{this.group}}" style="white-space: normal;" id="{{@index}}" value="{{@index}}" name="">
                            <img class="img-responsive center-block" src="{{this.image}}" alt="Your Alt Text">
                        </button>
                        {{else}}
                        <button  class="btn btn-secondary  text-nowrap btn-lg btn-block multichoice btn-color-{{this.color}} combo" data-group="{{this.group}}" style="white-space: normal;" id="{{@index}}" value="{{@index}}" name="">{{this.answer}}</button>
                        {{/if}}
                        {{/each}}
                    {{/if}}
                    <br>
                {{/each}}
                </form> 
                <br>
                <button  class="btn btn-primary continue btn-wide" id="continue btn-wide" name="">Save and Continue</button>
            <br>
            {{/if}}
        {{else}}
        {{#if page.typeActivity}}
        <h3>Instructions</h3>
        <p>{{page.instructions}}</p>
        {{#if isFurthestPage}}
            <button class="btn btn-primary btn-wide" id="startActivity"><h3><b>Continue</b></h3></button>
        {{else}}
            <p>You have already completed this activity.</p>
        {{/if}}
        {{/if}}
        {{/if}}
        {{/if}}
       {{else}}
            <p class="lead mb-4">{{module.title}}</p>
            <br>
            <p class="lead mb-4">{{module.description}}</p>
            <br>
            {{#if resume}}
            <button class="btn btn-primary btn-wide" id="resumeModule">Lets Continue!</button>
            <button class="btn btn-caution btn-wide" id="goBack">Return to Welcome Page.</button>
            {{else}}
            <button class="btn btn-primary btn-wide" id="startModule">Lets Begin!</button>
            <button class="btn btn-caution btn-wide" id="goBack">Return to Welcome Page.</button>
            {{/if}}
        {{/if}}
    </div>
</template>